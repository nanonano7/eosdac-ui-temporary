webpackJsonp([4],{"9VEI":function(n,t,o){(n.exports=o("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},LbLS:function(n,t,o){n.exports=o.p+"img/eosdaclogo1-2000-605x605.1db1a5f.png"},VpxC:function(n,t,o){var i=o("Whbs");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,o("rjj0").default)("7de8c2db",i,!1,{})},Whbs:function(n,t,o){(n.exports=o("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},Z4Ku:function(n,t,o){var i=o("t1gi");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,o("rjj0").default)("0d293ae5",i,!1,{})},dH7D:function(n,t,o){var i=o("9VEI");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,o("rjj0").default)("63f8f471",i,!1,{})},dkEd:function(n,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("Dd8w"),r=o.n(i),e=o("gWNG"),a=o("woOf"),s=o.n(a),c={name:"addendpoint",components:{LoadingSpinner:e.a},data:function(){return{loading:!1,loadingText:"",url:"https://",urlError:!1,urlErrorLabel:"",badEndpoint:!0}},methods:{clear:function(){s()(this.$data,this.$options.data()),this.$emit("closeendpointModal",!0)},add:function(){var n={keyProvider:null,httpEndpoint:this.url,expireInSeconds:60,broadcast:!0,debug:!1,sign:!0,ping:null,lastConnectionUnix:null,lastConnection:null,lastConnectionStatus:null};this.$store.commit("api/ADD_ENDPOINT",n),this.clear()},validate:function(n){return!!/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(n)}},watch:{url:function(n){n?this.validate(n)?(this.urlError=!1,this.urlErrorLabel="",this.badEndpoint=!1):(this.urlError=!0,this.urlErrorLabel="Invalid URL",this.badEndpoint=!0):(this.urlError=!1,this.urlErrorLabel="",this.badEndpoint=!0)}}},l=function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("q-card",{staticClass:"q-pa-xl",attrs:{color:"white","text-color":"black"}},[o("q-field",{staticClass:"q-mb-md",attrs:{error:n.urlError,"error-label":n.urlErrorLabel,label:"Endpoint URL (SSL strongly recommended)","label-width":12}},[o("q-input",{model:{value:n.url,callback:function(t){n.url=t},expression:"url"}})],1),n._v(" "),o("q-btn",{staticClass:"q-ma-sm float-right",attrs:{disable:n.badEndpoint,color:"primary"},on:{click:function(t){n.add()}}},[n._v("Add")]),n._v(" "),o("LoadingSpinner",{attrs:{visible:n.loading,text:n.loadingText}})],1)},d=[];l._withStripped=!0;var p=o("XyMi"),u=!1;var f=function(n){u||o("Z4Ku")},g=Object(p.a)(c,l,d,!1,f,null,null);g.options.__file="src/components/add-endpoint.vue";var h=g.exports,E=o("NYxO"),m={name:"settings",components:{AddEndpoint:h,LoadingSpinner:e.a},data:function(){return{addendpoint:!1,loading:!1,loadingText:"",connError:!1,connErrorText:"",connErrorTextDetail:"",connErrorIcon:null}},computed:r()({},Object(E.b)({getCurrentEndpoint:"api/getCurrentEndpoint",getEndpoints:"api/getEndpoints"})),methods:{clearendpointref:function(){this.$refs.endpointref.clear()},closeendpointModal:function(){this.$refs.endpointModal.hide()},remove:function(n){this.$store.commit("api/REMOVE_ENDPOINT",n)},change:function(n){var t=this;this.loading=!0,this.loadingText="connecting...",this.$store.dispatch("api/changeEndpoint",n).then(function(){t.$store.dispatch("api/pingAndGetInfo").then(function(){t.loading=!1,2===t.getCurrentEndpoint.lastConnectionStatus?(t.connError=!0,t.connErrorText="Blockchain data is out of sync!",t.connErrorIcon="warning",t.connErrorTextDetail="The api endpoint might be stuck or your local time is incorrect."):1===t.getCurrentEndpoint.lastConnectionStatus?(t.connError=!0,t.connErrorText="Could not connect to endpoint!",t.connErrorIcon="warning",t.connErrorTextDetail="The api endpoint maybe offline or set up incorrectly."):t.connError=!1},function(n){n&&(t.connError=!0,t.connErrorText="Could not connect to endpoint!",t.connErrorIcon="warning",t.connErrorTextDetail="The api endpoint maybe offline or set up incorrectly.",t.loading=!1)})})},tsToDate:function(n){return new Date(n).toISOString()}},mounted:function(){var n=this;this.$store.dispatch("api/pingAndGetInfo").then(function(){n.loading=!1,2===n.getCurrentEndpoint.lastConnectionStatus?(n.connError=!0,n.connErrorText="Blockchain data is out of sync!",n.connErrorIcon="warning",n.connErrorTextDetail="The api endpoint might be stuck or your local time is incorrect."):1===n.getCurrentEndpoint.lastConnectionStatus?(n.connError=!0,n.connErrorText="Could not connect to endpoint!",n.connErrorIcon="warning",n.connErrorTextDetail="The api endpoint maybe offline or set up incorrectly."):n.connError=!1},function(t){t&&(n.connError=!0,n.connErrorText="Could not connect to endpoint!",n.connErrorIcon="warning",n.connErrorTextDetail="The api endpoint maybe offline or set up incorrectly.",n.loading=!1)})}},v=function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("q-page",{attrs:{padding:""}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-card",{staticClass:"relative-position"},[o("q-card-title",[n._v("\n          Endpoints\n          "),o("q-btn",{staticClass:"float-right",attrs:{color:"primary",label:"Add"},on:{click:function(t){n.addendpoint=!0}}})],1),n._v(" "),o("q-card-separator"),n._v(" "),o("q-card-main",[n.getCurrentEndpoint?o("div",[o("q-item",{attrs:{dark:""}},[o("q-item-side",[n.connError?o("q-icon",{attrs:{color:"warning",name:"warning",size:"2rem"}}):o("q-icon",{attrs:{color:"green",name:"done",size:"2rem"}})],1),n._v(" "),o("q-item-main",{attrs:{label:n.getCurrentEndpoint.httpEndpoint}},[o("span",{staticClass:"q-caption"},[n._v("Ping: "+n._s(n.getCurrentEndpoint.ping+" ms")+" | ")]),n._v(" "),o("span",{staticClass:"q-caption"},[n._v("Last connection: "+n._s(n._f("moment")(n.tsToDate(n.getCurrentEndpoint.lastConnection),"from","now")))])])],1)],1):n._e(),n._v(" "),o("q-list",{attrs:{"no-border":""}},n._l(n.getEndpoints,function(t,i){return t.httpEndpoint!==n.getCurrentEndpoint.httpEndpoint?o("q-item",{key:i,attrs:{inset:""}},[o("q-item-side",[o("q-btn",{attrs:{color:"primary"},on:{click:function(o){n.change(t.httpEndpoint)}}},[n._v("Use")])],1),n._v(" "),o("q-item-main",{attrs:{label:t.httpEndpoint}},[o("span",{staticClass:"q-caption"},[n._v("Ping: "+n._s(t.ping+" ms")+" | ")]),n._v(" "),o("span",{staticClass:"q-caption"},[n._v("Last connection: "+n._s(n._f("moment")(n.tsToDate(t.lastConnection),"from","now")))])]),n._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-btn",{attrs:{flat:"",color:"red",icon:"clear"},on:{click:function(o){n.remove(t.httpEndpoint)}}})],1)],1):n._e()}))],1),n._v(" "),o("LoadingSpinner",{attrs:{visible:n.loading,text:n.loadingText}})],1)],1)]),n._v(" "),o("q-modal",{ref:"endpointModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"80vh",background:"none",boxShadow:"none"}},on:{hide:function(t){n.clearendpointref()}},model:{value:n.addendpoint,callback:function(t){n.addendpoint=t},expression:"addendpoint"}},[o("q-modal-layout",[o("q-btn",{staticClass:"noshadow",attrs:{icon:"clear",color:"red"},on:{click:function(t){n.addendpoint=!1}}}),n._v(" "),o("AddEndpoint",{ref:"endpointref",on:{closeendpointModal:function(t){n.closeendpointModal()}}})],1)],1)],1)},b=[];v._withStripped=!0;var _=!1;var x=function(n){_||o("dH7D")},C=Object(p.a)(m,v,b,!1,x,null,null);C.options.__file="src/pages/settings.vue";t.default=C.exports},gWNG:function(n,t,o){"use strict";var i={name:"LoadingSpinner",model:{prop:"visible",event:"change"},props:{visible:Boolean,text:String},data:function(){return{}}},r=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("q-inner-loading",{attrs:{visible:n.visible},on:{change:function(t){n.$emit("change",t.target.visible)}}},[i("img",{staticClass:"animate-spin-reverse float-left",staticStyle:{"max-height":"50%",color:"white"},attrs:{alt:"loading",src:o("LbLS")}}),n._v(" "),i("span",{staticClass:"bg-white text-weight-bold"},[n._v(n._s(n.text))])])},e=[];r._withStripped=!0;var a=o("XyMi"),s=!1;var c=function(n){s||o("VpxC")},l=Object(a.a)(i,r,e,!1,c,null,null);l.options.__file="src/components/loading-spinner.vue";t.a=l.exports},t1gi:function(n,t,o){(n.exports=o("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});